# 用户输入URL，解析
在按下前缀时，浏览器会根据收藏夹和历史记录推荐自动补全  
将输入url解析，包括使用的协议(http/https等)，域名，资源路径  
如果解析失败，则会使用默认的搜索引擎进行搜索
# DNS解析
由域名查找ip  
先查找缓存，浏览器缓存、操作系统缓存、ISP缓存    
找不到则请求DNS服务器，请求是递归的
# 开启Socket + TLS握手
客户端：发送消息，带有TLS版本，可用的加密算法和压缩算法  
服务端：回复消息，带有TLS版本，选择的加密算法和压缩算法，还有经过CA认证的证书，证书中包含公钥  
客户端：验证证书，验证成功则生成伪随机的bytes，然后通过公钥加密  
服务端：使用私钥进行解密，然后用这些bytes生成自己的对称key  
客户端：发送finished消息，用对称key对传输的信息进行加密
服务端：生成自己的哈希，解密客户端发送的hash验证，如果匹配，发送Finished消息  
之后的通信使用对称的加密算法
# TCP连接
三次握手
# HTTP请求
构建HTTP请求报文，包括请求方法、请求头和请求体
# 中间各层
可以叙述ip协议，arp协议，路由器等，自由发挥
# 服务器接收
一层一层解析，得到HTTP请求，后端执行操作
# 回复HTTP
状态码 响应头 以及响应体
# 浏览器解析与渲染
HTML，CSS，JS
# TLS握手
如果是https协议，需要进行TLS握手  
* 客户端发送连接请求，服务端返回证书  
* 客户端验证证书，通过则生成随机数，用服务器的公钥加密发送给服务器 
* 收到随机数，用私钥解密得到随机数，并生成一个新的随机数，公钥加密，发送给客户端
* 客户端收到用私钥解密得到
* 使用随机数作为密钥，采用对称加密算法进行通信 
